var d;function f(){this.K="writeit-animate";this.L="writeit-autostart";this.C="writeit-char";this.i="writeit-replace-next";this.F="writeit-speed";this.G="writeit-speed-fixed";this.M="writeit-has-prev";this.H="writeit-start-delay";this.o="writeit-loop";this.m="writeit-next";this.D="writeit-hidden";this.N="writeit-no-blink";this.l="writeit-loop-reverse";this.s="writeit-write-all-in-reverse";this.count=0;this.u=[];this.j();this.B=[]}d=f.prototype;d.g=function(){var b=this;this.u.forEach(function(a){a=new h(a,b.count++);b.B.push(a);a.g()})};d.v=function(b){(b=k(this,b))&&b.v()};function k(e,g){g=document.querySelector(g);var i=null;e.B.forEach(function(a){return a.node==g?(i=a,!1):!0});return i}d.w=function(b){(b=k(this,b))&&b.w()};d.R=function(c){var e=k(this,c);e?(l(e),e.j()):(e=new h(c,this.count++),this.B.push(e));e.g()};d.j=function(){this.u=Array.from(document.querySelectorAll("*["+this.K+"]"));m(this)};function m(b){b.u.forEach(function(a){var e=a.cloneNode(!0);e.id="seo_"+a.id;e.style.display="none";a.parentNode.appendChild(e)})}function h(c,e){this.A=!1;this.O=/,(?!\\)/;if(void 0==c||null==c){throw Error("Node must be a valid HTML tag")}this.node=c;this.I=!1;this.h=[];this.b=[];this.h["default"]=[];this.b["default"]=[];this.wait=!1;this.id=e;this.interval=this.timeout=0;this.innerHTML=this.node.innerHTML;this.f=[];this.a=-1;this.j()}d=h.prototype;d.j=function(){this.node.hasAttribute(n.D)&&(this.P=this.node.style.display,this.node.style.display="none");this.c=this.node.hasAttribute(n.C)?this.node.getAttribute(n.C):"|";this.node.hasAttribute(n.i)?(this.J=this.node.getAttribute(n.i).replace(/[\s]+/g," ").split("").reverse().join("").split(this.O).map(function(a){return a.split("").reverse().join("").replace("\\,",",")}).reverse(),this.text=this.node.innerHTML.replace(/[\s]+/g," "),this.a=-1):this.text=this.node.innerHTML.replace(/[\s]+/g," ");this.text=this.text.trim();for(var i=0,j;-1!=this.text.indexOf("${",i)||-1!=this.text.indexOf("$`",i);){j=this.text.indexOf("${",i);var o=this.text.indexOf("$`",i);if(-1<j&&(j<o||-1==o)){this.h["default"][j]=Number(this.text.substring(j+2,this.text.indexOf("}",j))),this.text=this.text.replace(this.text.substring(j,this.text.indexOf("}",j)+1),""),i+=1}else{if(-1<o&&(o<j||-1==j)&&(j=o,o=this.text.indexOf("`",j+2),-1!=o)){var s=o-j-2;this.b["default"][j]=o-1;this.node.hasAttribute(n.s)&&(this.b["default"][j+s]=j);this.text=this.text.replace(this.text.substring(j,o+1),this.text.substring(j+2,o));i+=o}}}if(this.node.hasAttribute(n.i)){for(i=0;i<this.J.length;i++){j=this.J[i];this.h[i]=[];this.b[i]=[];o=0;for(s=void 0;-1!=j.indexOf("${",o)||-1!=j.indexOf("$`",o);){s=j.indexOf("${",o);var v=j.indexOf("$`",o);-1<s&&(s<v||-1==v)?(this.h[i][s]=j.substring(s+2,j.indexOf("}",s)),j=j.replace(j.substring(s,j.indexOf("}",s)+1),""),o+=2):-1<v&&(v<s||-1==s)&&(s=v,v=j.indexOf("`",s+2),this.b[i][s+1]=v-1,this.node.hasAttribute(n.s)&&(this.b[i][v]=s+1),j=j.replace(j.substring(s,v+1),j.substring(s+2,v)),o+=v+1)}this.f[i]=j}}this.index=this.speed=0;this.reverse=!1;p(this)};function p(b){b.speed=1000/(2*Math.random()+5.5);b.node.hasAttribute(n.G)?b.speed=1000/parseFloat(b.node.getAttribute(n.G)):b.node.hasAttribute(n.F)&&(b.speed=1000/(3*Math.random()+(parseFloat(b.node.getAttribute(n.F))-1)))}d.g=function(){var b=0;if(this.I||!this.node.hasAttribute(n.M)){this.node.innerHTML=this.c,this.node.hasAttribute(n.H)&&(b=1000*parseFloat(this.node.getAttribute(n.H))),this.node.hasAttribute(n.D)&&(this.node.style.display=this.P),this.node.hasAttribute(n.m)&&this.node.getAttribute(n.m).split(",").forEach(function(a){(a=k(n,a))&&a.A&&(l(a),a.j())}),this.timeout=this.setTimeout(this.animate,b),this.A=!0}};function l(b){clearTimeout(b.timeout);clearInterval(b.interval);b.timeout=-1;b.node.innerHTML=b.innerHTML;b.A=!1}d.v=function(){clearTimeout(this.timeout);this.timeout=-1};d.w=function(){p(this);this.timeout=this.setTimeout(this.animate,this.speed)};d.animate=function(){var e=this;if(-1!=this.timeout){if(void 0!=this.h[0>this.a?"default":this.a][this.index]&&!this.wait){var g=this.h[0>this.a?"default":this.a][this.index];this.node.innerHTML=this.text.substring(0,this.index);this.reverse&&this.node.hasAttribute(n.s)?(g*=1000,this.index--):this.reverse?g=0:(g*=1000,this.index++);0>=this.index||this.index>=this.text.length?q(this):this.timeout=this.setTimeout(function(){e.wait=!1;e.animate()},g)}else{if(!this.wait){if(void 0!=this.b[0>this.a?"default":this.a][this.index]){g=this.b[0>this.a?"default":this.a][this.index],this.reverse&&g<this.index?(this.node.innerHTML=this.text.substring(0,g),this.index=g-1):!this.reverse&&g>this.index&&(this.node.innerHTML=this.text.substring(0,g),this.index=g+1),0>=this.index||this.index>=this.text.length?q(this):(this.node.innerHTML+=this.c,r(this))}else{g=this.text.substring(0,this.index);this.node.innerHTML=g;if(this.reverse){if(0>=g.length){q(this);return}var i=g.substr(g.length-1,1);">"==i?(i=this.text.substring(g.length,g.lastIndexOf("<",g.length)),g=g.substr(0,g.length-i.length),this.index-=i.length):";"==i?(i=this.text.substring(g.length,g.lastIndexOf("&",g.length)),g=g.substr(0,g.length-i.length),this.index-=i.length):(g=g.substring(0,g.length-1),this.index--)}else{if(g.length>=this.text.length){q(this);return}i=this.text.substr(g.length,1);"<"==i?i=this.text.substring(g.length,this.text.indexOf(">",g.length)+1):"&"==i&&(i=this.text.substring(g.length,this.text.indexOf(";",g.length)+1));this.index+=i.length;g+=i}g+=this.c;this.node.innerHTML=g;r(this)}}}}};function q(b){b.reverse?b.node.hasAttribute(n.i)?b.a+1>=b.f.length?b.node.hasAttribute(n.l)&&(b.a=0,b.text=b.f[b.a],t(b,!1,0,!0)):(b.text=b.f[++b.a],t(b,!1,0,!0)):b.node.hasAttribute(n.l)&&t(b,!1,0,!0):b.node.hasAttribute(n.i)?b.a>=b.f.length-1&&!b.node.hasAttribute(n.o)&&!b.node.hasAttribute(n.l)?u(b):b.a>=b.f.length-1&&b.node.hasAttribute(n.o)?(b.a=0,b.text=b.f[b.a],t(b,!1,0,!0)):t(b,!0):b.node.hasAttribute(n.o)?t(b,!1,0,!0):b.node.hasAttribute(n.l)?(b.node.innerHTML+=b.c,t(b,!0)):u(b)}function u(b){b.node.hasAttribute(n.m)?b.node.getAttribute(n.m).split(",").forEach(function(a){a=k(n,a);a.I=!0;a.g()}):b.node.hasAttribute(n.N)||w(b)}function t(g,i,j,o){g.reverse=i;g.index=void 0!=j?j:g.index;g.node.innerHTML=o?g.c:g.node.innerHTML;g.timeout=g.setTimeout(g.animate,g.speed)}function w(b){b.interval=b.setInterval(function(){b.node.innerHTML.replace(/'/g,'"')!=(b.text+b.c).replace(/'/g,'"')?b.node.innerHTML=b.text+b.c:b.node.innerHTML=b.text+"\u00a0".repeat(b.c.length)},500)}function r(b){p(b);b.timeout=b.setTimeout(b.animate,b.speed)}d.setInterval=function(c,e){return setInterval(c.bind(this),e)};d.setTimeout=function(c,e){return setTimeout(c.bind(this),e)};var n=new f;document.querySelector("*["+n.L+"]")&&n.g();window.WriteItJS=n;window.WriteItJS.startAnimation=n.g;window.WriteItJS.pauseAnimation=n.v;window.WriteItJS.resumeAnimation=n.w;window.WriteItJS.startAnimationOfNode=n.R;console.log("WriteIt.js v2.0 loaded!, visit https://github.com/khushit-shah/WriteIt.js");
